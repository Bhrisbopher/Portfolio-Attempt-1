<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>2-D Media</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <header class="page-header">
    <h2>2-D Media</h2>
    <div class="subtitle">Placeholder Text</div>
  </header>

  <nav class="tab-nav">
    <a href="index.html">Home</a>
    <a href="about.html">About Me</a>
    <a href="media-2d.html" class="active">2-D Media</a>
    <a href="media-mixed.html">Mixed Media</a>
    <a href="media-sculptural.html">Sculptural</a>
    <a href="media-functional.html">Functional</a>
    <a href="media-class-projects.html">Class Projects</a>
  </nav>

  <section class="gallery">
    <!-- 1 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing\Abstract Charcoal.jpg"
           alt="Abstract Charcoal">
      <h3>Abstract Charcoal</h3>
      <p>Charcoal sketch on paper</p>
    </div>
    <!-- 2 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Creature.jpg"
           alt="Creature">
      <h3>Creature</h3>
      <p>Ink creature study</p>
    </div>
    <!-- 3 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Evil Abstract Bear.jpg"
           alt="Evil Abstract Bear">
      <h3>Evil Abstract Bear</h3>
      <p>Abstract bear illustration</p>
    </div>
    <!-- 4 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Eyeball.jpg"
           alt="Eyeball">
      <h3>Eyeball</h3>
      <p>Surreal eyeball composition</p>
    </div>
    <!-- 5 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Large Abstract with Collage.jpg"
           alt="Large Abstract Collage">
      <h3>Large Abstract Collage</h3>
      <p>Mixed media collage</p>
    </div>
    <!-- 6 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Little guy.jpg"
           alt="Little Guy">
      <h3>Little Guy</h3>
      <p>Portrait sketch</p>
    </div>
    <!-- 7 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Love is Love.jpg"
           alt="Love is Love">
      <h3>Love is Love</h3>
      <p>Valentine-themed doodle</p>
    </div>
    <!-- 8 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Monster City.jpg"
           alt="Monster City">
      <h3>Monster City</h3>
      <p>Cityscape with monsters</p>
    </div>
    <!-- 9 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Mouth.jpg"
           alt="Mouth">
      <h3>Mouth</h3>
      <p>Anatomical mouth study</p>
    </div>
    <!-- 10 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Mushroom drawings, 2022.jpg"
           alt="Mushroom Sketches">
      <h3>Mushroom Sketches</h3>
      <p>Mushroom botanical sketches</p>
    </div>
    <!-- 11 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Painting made for friend as a gift, 2022.jpg"
           alt="Friend’s Gift">
      <h3>Friend’s Gift</h3>
      <p>Commemorative gift painting</p>
    </div>
    <!-- 12 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Paper Abstract 1.jpg"
           alt="Paper Abstract I">
      <h3>Paper Abstract I</h3>
      <p>Paper collage abstract I</p>
    </div>
    <!-- 13 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Paper Abstract 2.jpg"
           alt="Paper Abstract II">
      <h3>Paper Abstract II</h3>
      <p>Paper collage abstract II</p>
    </div>
    <!-- 14 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Repurposed_Sign.jpg"
           alt="Repurposed Sign">
      <h3>Repurposed Sign</h3>
      <p>Repurposed sign painting</p>
    </div>
    <!-- 15 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Runic Woods.jpg"
           alt="Runic Woods">
      <h3>Runic Woods</h3>
      <p>Runic wood pattern</p>
    </div>
    <!-- 16 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Spraypaint Space 1.jpg"
           alt="Spraypaint Galaxy I">
      <h3>Spraypaint Galaxy I</h3>
      <p>Spraypaint galaxy I</p>
    </div>
    <!-- 17 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Spraypaint Space 2.jpg"
           alt="Spraypaint Galaxy II">
      <h3>Spraypaint Galaxy II</h3>
      <p>Spraypaint galaxy II</p>
    </div>
    <!-- 18 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Untitled Abstract 1.jpg"
           alt="Untitled Abstract I">
      <h3>Untitled Abstract I</h3>
      <p>Untitled abstract I</p>
    </div>
    <!-- 19 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Untitled Abstract 2.jpg"
           alt="Untitled Abstract II">
      <h3>Untitled Abstract II</h3>
      <p>Untitled abstract II</p>
    </div>
    <!-- 20 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Untitled Abstract 3.jpg"
           alt="Untitled Abstract III">
      <h3>Untitled Abstract III</h3>
      <p>Untitled abstract III</p>
    </div>
    <!-- 21 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Untitled Abstract 4.jpg"
           alt="Untitled Abstract IV">
      <h3>Untitled Abstract IV</h3>
      <p>Untitled abstract IV</p>
    </div>
    <!-- 22 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Untitled Abstract 5.jpg"
           alt="Untitled Abstract V">
      <h3>Untitled Abstract V</h3>
      <p>Untitled abstract V</p>
    </div>
    <!-- 23 -->
    <div class="img-ctr">
      <img src="C:\Users\demet\OneDrive\Desktop\WebSite\Images\Website Art\Complete Art\Painting - Drawing/Watercolor Tree.jpg"
           alt="Watercolor Tree">
      <h3>Watercolor Tree</h3>
      <p>Watercolor tree study</p>
    </div>
  </section>

  <!-- dimming spotlight -->
  <div id="overlay"></div>

  <!-- full‐screen preview -->
  <div id="previewOverlay"></div>

  <!-- side caption -->
  <div id="caption-box">
    <h3></h3>
    <p></p>
  </div>

  <script>
    // 1) RANDOM BACKGROUND ON LOAD (with 70% dark overlay)
    (function pickBackground(){
      const bg = [
        'Images/Backgrounds/Background 1.jpg',
        'Images/Backgrounds/Background 2.jpg',
        'Images/Backgrounds/Background 3.jpg',
        'Images/Backgrounds/Background 4.jpg',
        'Images/Backgrounds/Background 5.jpg',
        'Images/Backgrounds/Background 6.jpg',
        'Images/Backgrounds/Background 7.jpg',
        'Images/Backgrounds/Background 8.jpg',
        'Images/Backgrounds/Background 9.jpg',
        'Images/Backgrounds/Background 10.jpg',
        'Images/Backgrounds/Background 11.jpg',
        'Images/Backgrounds/Background 12.jpg',
        'Images/Backgrounds/Background 13.jpg',
        'Images/Backgrounds/Background 14.jpg',
        'Images/Backgrounds/Background 15.jpg',
        'Images/Backgrounds/Background 16.jpg',
        'Images/Backgrounds/Background 17.jpg',
        'Images/Backgrounds/Background 18.jpg',
        'Images/Backgrounds/Background 19.jpg',
        'Images/Backgrounds/Background 20.jpg',
        'Images/Backgrounds/Background 21.jpg'
      ];
      const choice = bg[Math.floor(Math.random() * bg.length)];
      document.body.style.background =
        `linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)),
         url('${choice}') center/cover fixed no-repeat`;
    })();

    // 2) compute center offsets for each card
    window.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.img-ctr').forEach(el => {
        const r  = el.getBoundingClientRect();
        const dx = window.innerWidth/2  - (r.left + r.width/2);
        const dy = window.innerHeight/2 - (r.top  + r.height/2);
        el.style.setProperty('--dx', dx + 'px');
        el.style.setProperty('--dy', dy + 'px');
      });
    });

    const overlay = document.getElementById('overlay');
    const caption = document.getElementById('caption-box');
    const preview = document.getElementById('previewOverlay');

    // 3) hover to expand + show caption
    document.querySelectorAll('.img-ctr').forEach(card => {
      card.addEventListener('mouseenter', () => {
        card.classList.add('expanded');
        overlay.classList.add('show');

        // Update caption box content
        caption.querySelector('h3').textContent = card.querySelector('h3').textContent;
        caption.querySelector('p').textContent = card.querySelector('p').textContent;

        const src = card.querySelector('img').src;

        // Remove any previous transitionend handler
        preview._handler && preview.removeEventListener('transitionend', preview._handler);

        if (preview.classList.contains('show')) {
          preview.classList.remove('show');
          preview._handler = function handler(e) {
            if (e.propertyName === 'opacity') {
              preview.style.background = `url('${src}') center/contain no-repeat`;
              preview.classList.add('show');
              preview.removeEventListener('transitionend', handler);
              preview._handler = null;

              // Position the caption box after the image is shown
              positionCaptionBox();
            }
          };
          preview.addEventListener('transitionend', preview._handler);
        } else {
          preview.style.background = `url('${src}') center/contain no-repeat`;
          preview.classList.add('show');

          // Use a small delay to ensure the DOM updates
          setTimeout(() => {
            positionCaptionBox();
          }, 50);
        }
      });

      card.addEventListener('mouseleave', () => {
        // Remove classes to hide the caption box and overlay
        card.classList.remove('expanded');
        overlay.classList.remove('show');
        caption.classList.remove('visible'); // Ensure the caption box is hidden
        preview.classList.remove('show');

        // Reset the caption box position (optional, for debugging)
        caption.style.top = '';
        caption.style.left = '';
      });
    });

    // Function to position the caption box dynamically
    function positionCaptionBox() {
      const captionBox = document.getElementById('caption-box');

      if (!captionBox) {
        console.error('Caption box not found!');
        return;
      }

      // Use a small delay to ensure the DOM updates before calculating position
      setTimeout(() => {
        const previewRect = preview.getBoundingClientRect();

        // Log the previewRect to debug
        console.log('Preview Rect:', previewRect);

        if (previewRect.width === 0 || previewRect.height === 0) {
          console.error('Preview overlay has no dimensions!');
          return;
        }

        // Ensure the caption box is always centered vertically
        const calculatedTop = previewRect.top + window.scrollY + previewRect.height / 2 - captionBox.offsetHeight / 2;

        // Position the caption box closer to thinner images
        const calculatedLeft = previewRect.right + Math.min(20, previewRect.width / 4); // 20px or closer for thinner images

        // Ensure the caption box stays within the viewport
        const viewportWidth = window.innerWidth;
        const captionBoxWidth = captionBox.offsetWidth;

        // Adjust the left position if the caption box would overflow the viewport
        const adjustedLeft = Math.min(calculatedLeft, viewportWidth - captionBoxWidth - 20);

        captionBox.style.top = `${calculatedTop}px`;
        captionBox.style.left = `${adjustedLeft}px`;

        // Log the calculated position for debugging
        console.log('Caption Box Position:', {
          top: captionBox.style.top,
          left: captionBox.style.left,
        });

        // Ensure the caption box is visible
        captionBox.classList.add('visible');
      }, 50); // 50ms delay to allow DOM updates
    }
  </script>
</body>
</html>